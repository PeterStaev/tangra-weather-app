import observable = require("data/observable");
import * as moment from "moment";

interface ICurrentConditionIcon {
    icon1: { text: string, color: string}; 
    icon2: { text: string, color: string};
    fontSize: number;
}

interface IUnitSymbol {
    pressure: string;
    windSpeed: string;
}

let currentConditionIcons: { [condition: string]: ICurrentConditionIcon } = {
    "clear-day": {
        icon1: { text: "\uf113", color: "#FFA500" }, 
        icon2: { text: "", color: "" }, 
        fontSize: 80
    }, 
    "clear-night": {
        icon1: { text: "\uf10d", color: "#FFA500" }, 
        icon2: { text: "", color: "" }, 
        fontSize: 90
    }, 
    "rain": {
        icon1: { text: "\uf105", color: "#DDDDDD" }, 
        icon2: { text: "\uf107", color: "#4681C3" }, 
        fontSize: 90
    }, 
    "snow": {
        icon1: { text: "\uf105", color: "#DDDDDD" }, 
        icon2: { text: "\uf10b", color: "#acd3f3" }, 
        fontSize: 90
    }, 
    "sleet": {
        icon1: { text: "\uf105", color: "#DDDDDD" }, 
        icon2: { text: "\uf10c", color: "#acd3f3" }, 
        fontSize: 90
    }, 
    "wind": {
        icon1: { text: "\uf105", color: "#DDDDDD" }, 
        icon2: { text: "\uf115", color: "#DDDDDD" }, 
        fontSize: 90
    }, 
    "fog": {
        icon1: { text: "\uf108", color: "#CCCCCC" }, 
        icon2: { text: "", color: "" }, 
        fontSize: 80
    }, 
    "cloudy": {
        icon1: { text: "\uf106", color: "#DDDDDD" }, 
        icon2: { text: "", color: "" }, 
        fontSize: 80
    }, 
    "partly-cloudy-day": {
        icon1: { text: "\uf106", color: "#DDDDDD" }, 
        icon2: { text: "\uf101", color: "#FFA500" }, 
        fontSize: 90
    }, 
    "partly-cloudy-night": {
        icon1: { text: "\uf106", color: "#DDDDDD" }, 
        icon2: { text: "\uf100", color: "#FFA500" }, 
        fontSize: 90
    }
};

let units: { [unitSystem: string]: IUnitSymbol } = {
    "us": {
        pressure: "mb", 
        windSpeed: "mi/h"
    }, 
    "si": {
        pressure: "HPa", 
        windSpeed: "m/s"
    }
};

let conditionIcons: { [condition: string]: string } = {
    "clear-day": "\uf00d", 
    "clear-night": "\uf02e", 
    "rain": "\uf019", 
    "snow": "\uf01b", 
    "sleet": "\uf0b5", 
    "wind": "\uf050", 
    "fog": "\uf014", 
    "cloudy": "\uf013", 
    "partly-cloudy-day": "\uf002", 
    "partly-cloudy-night": "\uf086"
};

export class WeatherDashboardModel extends observable.Observable {
    
    constructor() {
        super();
        this.set("currentTemperature", "-");
        this.set("unitSystem", "us");
    }
    
    public loadWeatherData() {
        
        let currentConditionIcon: ICurrentConditionIcon = currentConditionIcons[data.currently.icon];
        let unitSymbol: IUnitSymbol = units[this.get("unitSystem")];
        let currentDailyData = data.daily.data[0];
        
        this.set("currentCondition", data.currently.icon);
        if (currentConditionIcon) {
            this.set("conditionIcon1Text", currentConditionIcon.icon1.text);
            this.set("conditionIcon1Color", currentConditionIcon.icon1.color);
            this.set("conditionIcon2Text", currentConditionIcon.icon2.text);
            this.set("conditionIcon2Color", currentConditionIcon.icon2.color);
            this.set("conditionFontSize", currentConditionIcon.fontSize);
        }
        this.set("currentTemperature", Math.round(data.currently.temperature));
        this.set("currentConditionSummary", data.currently.summary);
        this.set("currentHumidity", `${data.currently.humidity * 100} %`);
        this.set("currentPressure", `${data.currently.pressure} ${unitSymbol.pressure}`);
        this.set("currentWindSpeed", `${data.currently.windSpeed} ${unitSymbol.windSpeed}`);
        this.set("currentWindBearing", data.currently.windBearing);
        this.set("sunriseTime", moment.unix(currentDailyData.sunriseTime).format("h:mm A"));
        this.set("sunsetTime", moment.unix(currentDailyData.sunsetTime).format("h:mm A"));
        this.set("moonPhaseText", this._getMoonPhaseText(currentDailyData.moonPhase));
        this.set("moonPhaseIcon", String.fromCharCode(61589 + Math.round(28 * currentDailyData.moonPhase)));
        this.set("daily", data.daily.data.map((item) => { 
            return {
                temperatureMin: Math.round(item.temperatureMin), 
                temperatureMax: Math.round(item.temperatureMax), 
                icon: conditionIcons[item.icon],
                day: moment.unix(item.time).format("MM/DD")
            };
        }));
    }
    
    private _getMoonPhaseText(moonPhase: number) {
        if (moonPhase === 0) {
            return "New\nMoon";
        }
        if (moonPhase < 0.25) {
            return "Waxing\nCrescent";
        }
        if (moonPhase === 0.25) {
            return "First\nQuarter";
        }
        if (moonPhase < 0.5) {
            return "Waxing\nGibbous";
        }
        if (moonPhase === 0.5) {
            return "Full\nMoon";
        }
        if (moonPhase < 0.75) {
            return "Waning\nGibbous";
        }
        if (moonPhase === 0.75) {
            return "Last\nQuarter"
        }
        if (moonPhase < 1) {
            return "Waning\nCrescent";
        }
    }
}

let data = { "latitude": 37.8267, "longitude": -122.423, "timezone": "America/Los_Angeles", "offset": -7, "currently": { "time": 1464983241, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "nearestStormDistance": 414, "nearestStormBearing": 357, "precipIntensity": 0, "precipProbability": 0, "temperature": 72.01, "apparentTemperature": 72.01, "dewPoint": 52.47, "humidity": 0.5, "windSpeed": 6.29, "windBearing": 275, "visibility": 9.32, "cloudCover": 0.45, "pressure": 1014.81, "ozone": 318.98 }, "minutely": { "summary": "Partly cloudy for the hour.", "icon": "partly-cloudy-day", "data": [{ "time": 1464983220, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983280, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983340, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983400, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983460, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983520, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983580, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983640, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983700, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983760, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983820, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983880, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464983940, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984000, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984060, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984120, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984180, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984240, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984300, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984360, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984420, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984480, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984540, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984600, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984660, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984720, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984780, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984840, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984900, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464984960, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985020, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985080, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985140, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985200, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985260, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985320, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985380, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985440, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985500, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985560, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985620, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985680, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985740, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985800, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985860, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985920, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464985980, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986040, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986100, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986160, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986220, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986280, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986340, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986400, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986460, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986520, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986580, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986640, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986700, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986760, "precipIntensity": 0, "precipProbability": 0 }, { "time": 1464986820, "precipIntensity": 0, "precipProbability": 0 }] }, "hourly": { "summary": "Partly cloudy until tomorrow afternoon.", "icon": "partly-cloudy-night", "data": [{ "time": 1464980400, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 65.77, "apparentTemperature": 65.77, "dewPoint": 47.02, "humidity": 0.51, "windSpeed": 3.68, "windBearing": 281, "visibility": 9.33, "cloudCover": 0.48, "pressure": 1015, "ozone": 319.9 }, { "time": 1464984000, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 73.68, "apparentTemperature": 73.68, "dewPoint": 53.92, "humidity": 0.5, "windSpeed": 7, "windBearing": 275, "visibility": 9.31, "cloudCover": 0.44, "pressure": 1014.75, "ozone": 318.73 }, { "time": 1464987600, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 76.1, "apparentTemperature": 76.1, "dewPoint": 55.09, "humidity": 0.48, "windSpeed": 8.51, "windBearing": 278, "visibility": 9.31, "cloudCover": 0.4, "pressure": 1014.46, "ozone": 317.69 }, { "time": 1464991200, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 77.71, "apparentTemperature": 77.71, "dewPoint": 56.18, "humidity": 0.48, "windSpeed": 9.37, "windBearing": 280, "visibility": 9.3, "cloudCover": 0.32, "pressure": 1014.1, "ozone": 316.82 }, { "time": 1464994800, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 77.93, "apparentTemperature": 77.93, "dewPoint": 56.64, "humidity": 0.48, "windSpeed": 10.03, "windBearing": 281, "visibility": 9.29, "cloudCover": 0.32, "pressure": 1013.71, "ozone": 316.08 }, { "time": 1464998400, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 76.99, "apparentTemperature": 76.99, "dewPoint": 56.86, "humidity": 0.5, "windSpeed": 9.94, "windBearing": 285, "visibility": 9.25, "cloudCover": 0.33, "pressure": 1013.41, "ozone": 315.55 }, { "time": 1465002000, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 75, "apparentTemperature": 75, "dewPoint": 56.43, "humidity": 0.53, "windSpeed": 9.8, "windBearing": 288, "visibility": 9.27, "cloudCover": 0.25, "pressure": 1013.22, "ozone": 315.37 }, { "time": 1465005600, "summary": "Clear", "icon": "clear-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 72.29, "apparentTemperature": 72.29, "dewPoint": 55.74, "humidity": 0.56, "windSpeed": 8.89, "windBearing": 287, "visibility": 9.29, "cloudCover": 0.24, "pressure": 1013.13, "ozone": 315.4 }, { "time": 1465009200, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 69.24, "apparentTemperature": 69.24, "dewPoint": 55.07, "humidity": 0.61, "windSpeed": 7.75, "windBearing": 285, "visibility": 9.24, "cloudCover": 0.32, "pressure": 1013.11, "ozone": 315.29 }, { "time": 1465012800, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 65.87, "apparentTemperature": 65.87, "dewPoint": 54.57, "humidity": 0.67, "windSpeed": 6.59, "windBearing": 278, "visibility": 9.01, "cloudCover": 0.31, "pressure": 1013.24, "ozone": 314.93 }, { "time": 1465016400, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 62.96, "apparentTemperature": 62.96, "dewPoint": 53.73, "humidity": 0.72, "windSpeed": 5.8, "windBearing": 273, "visibility": 8.78, "cloudCover": 0.4, "pressure": 1013.45, "ozone": 314.43 }, { "time": 1465020000, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 61.08, "apparentTemperature": 61.08, "dewPoint": 53.16, "humidity": 0.75, "windSpeed": 5.81, "windBearing": 272, "visibility": 8.54, "cloudCover": 0.45, "pressure": 1013.55, "ozone": 313.7 }, { "time": 1465023600, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 59.49, "apparentTemperature": 59.49, "dewPoint": 52.78, "humidity": 0.78, "windSpeed": 5.91, "windBearing": 272, "visibility": 8.3, "cloudCover": 0.47, "pressure": 1013.39, "ozone": 312.43 }, { "time": 1465027200, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 58.62, "apparentTemperature": 58.62, "dewPoint": 52.32, "humidity": 0.8, "windSpeed": 6.01, "windBearing": 270, "visibility": 8.08, "cloudCover": 0.51, "pressure": 1013.1, "ozone": 310.94 }, { "time": 1465030800, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 57.93, "apparentTemperature": 57.93, "dewPoint": 52.34, "humidity": 0.82, "windSpeed": 6.06, "windBearing": 270, "visibility": 7.64, "cloudCover": 0.45, "pressure": 1012.8, "ozone": 310.05 }, { "time": 1465034400, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 57.67, "apparentTemperature": 57.67, "dewPoint": 52.39, "humidity": 0.83, "windSpeed": 6.06, "windBearing": 272, "visibility": 6.74, "cloudCover": 0.55, "pressure": 1012.53, "ozone": 310.15 }, { "time": 1465038000, "summary": "Mostly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 57.8, "apparentTemperature": 57.8, "dewPoint": 53.16, "humidity": 0.85, "windSpeed": 5.69, "windBearing": 274, "visibility": 5.63, "cloudCover": 0.63, "pressure": 1012.27, "ozone": 310.87 }, { "time": 1465041600, "summary": "Mostly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 58.2, "apparentTemperature": 58.2, "dewPoint": 53.44, "humidity": 0.84, "windSpeed": 4.51, "windBearing": 271, "visibility": 5.23, "cloudCover": 0.73, "pressure": 1012.13, "ozone": 311.93 }, { "time": 1465045200, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 58.86, "apparentTemperature": 58.86, "dewPoint": 54.57, "humidity": 0.86, "windSpeed": 4.22, "windBearing": 264, "visibility": 4.43, "cloudCover": 0.82, "pressure": 1012.17, "ozone": 313.37 }, { "time": 1465048800, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 60.3, "apparentTemperature": 60.3, "dewPoint": 55.65, "humidity": 0.85, "windSpeed": 3.73, "windBearing": 252, "visibility": 4.4, "cloudCover": 0.89, "pressure": 1012.33, "ozone": 315.15 }, { "time": 1465052400, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 62.54, "apparentTemperature": 62.54, "dewPoint": 56.39, "humidity": 0.8, "windSpeed": 3.67, "windBearing": 244, "visibility": 4.98, "cloudCover": 0.89, "pressure": 1012.5, "ozone": 316.94 }, { "time": 1465056000, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 65.14, "apparentTemperature": 65.14, "dewPoint": 57.29, "humidity": 0.76, "windSpeed": 4.63, "windBearing": 247, "visibility": 5.96, "cloudCover": 0.9, "pressure": 1012.69, "ozone": 318.54 }, { "time": 1465059600, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 68.34, "apparentTemperature": 68.34, "dewPoint": 58.77, "humidity": 0.72, "windSpeed": 5.69, "windBearing": 250, "visibility": 7.23, "cloudCover": 0.84, "pressure": 1012.88, "ozone": 320.14 }, { "time": 1465063200, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 71.08, "apparentTemperature": 71.08, "dewPoint": 59.97, "humidity": 0.68, "windSpeed": 6.44, "windBearing": 253, "visibility": 8.26, "cloudCover": 0.83, "pressure": 1012.98, "ozone": 321.98 }, { "time": 1465066800, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 73.15, "apparentTemperature": 73.15, "dewPoint": 60.24, "humidity": 0.64, "windSpeed": 6.66, "windBearing": 254, "visibility": 8.51, "cloudCover": 0.77, "pressure": 1012.92, "ozone": 324.25 }, { "time": 1465070400, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 73.46, "apparentTemperature": 73.46, "dewPoint": 61, "humidity": 0.65, "windSpeed": 6.61, "windBearing": 255, "visibility": 8.34, "cloudCover": 0.81, "pressure": 1012.75, "ozone": 326.77 }, { "time": 1465074000, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 72.2, "apparentTemperature": 72.2, "dewPoint": 60.06, "humidity": 0.66, "windSpeed": 6.93, "windBearing": 257, "visibility": 8.32, "cloudCover": 0.81, "pressure": 1012.57, "ozone": 329.25 }, { "time": 1465077600, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 70.48, "apparentTemperature": 70.48, "dewPoint": 58.37, "humidity": 0.66, "windSpeed": 7.51, "windBearing": 260, "visibility": 8.77, "cloudCover": 0.74, "pressure": 1012.37, "ozone": 331.94 }, { "time": 1465081200, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 68.84, "apparentTemperature": 68.84, "dewPoint": 56.78, "humidity": 0.65, "windSpeed": 8.17, "windBearing": 262, "visibility": 9.37, "cloudCover": 0.62, "pressure": 1012.17, "ozone": 334.6 }, { "time": 1465084800, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 66.29, "apparentTemperature": 66.29, "dewPoint": 55.01, "humidity": 0.67, "windSpeed": 8.44, "windBearing": 262, "visibility": 9.67, "cloudCover": 0.52, "pressure": 1012.04, "ozone": 336.21 }, { "time": 1465088400, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 64.67, "apparentTemperature": 64.67, "dewPoint": 54.88, "humidity": 0.71, "windSpeed": 8.1, "windBearing": 260, "visibility": 9.45, "cloudCover": 0.42, "pressure": 1012.02, "ozone": 336.11 }, { "time": 1465092000, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 63.06, "apparentTemperature": 63.06, "dewPoint": 55.27, "humidity": 0.76, "windSpeed": 7.7, "windBearing": 255, "visibility": 8.94, "cloudCover": 0.32, "pressure": 1012.06, "ozone": 334.96 }, { "time": 1465095600, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 61.05, "apparentTemperature": 61.05, "dewPoint": 55.04, "humidity": 0.81, "windSpeed": 7.43, "windBearing": 250, "visibility": 8.36, "cloudCover": 0.28, "pressure": 1012.17, "ozone": 333.66 }, { "time": 1465099200, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 58.79, "apparentTemperature": 58.79, "dewPoint": 54.19, "humidity": 0.85, "windSpeed": 7.35, "windBearing": 248, "visibility": 7.73, "cloudCover": 0.34, "pressure": 1012.41, "ozone": 332.53 }, { "time": 1465102800, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 56.24, "apparentTemperature": 56.24, "dewPoint": 52.85, "humidity": 0.88, "windSpeed": 7.29, "windBearing": 248, "visibility": 7.04, "cloudCover": 0.45, "pressure": 1012.69, "ozone": 331.25 }, { "time": 1465106400, "summary": "Partly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 54.05, "apparentTemperature": 54.05, "dewPoint": 51.52, "humidity": 0.91, "windSpeed": 7.19, "windBearing": 248, "visibility": 6.47, "cloudCover": 0.55, "pressure": 1012.87, "ozone": 329.8 }, { "time": 1465110000, "summary": "Mostly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 53.97, "apparentTemperature": 53.97, "dewPoint": 51.86, "humidity": 0.93, "windSpeed": 7, "windBearing": 249, "visibility": 6.05, "cloudCover": 0.64, "pressure": 1012.88, "ozone": 328.19 }, { "time": 1465113600, "summary": "Mostly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 54.75, "apparentTemperature": 54.75, "dewPoint": 52.82, "humidity": 0.93, "windSpeed": 6.77, "windBearing": 252, "visibility": 5.74, "cloudCover": 0.73, "pressure": 1012.79, "ozone": 326.41 }, { "time": 1465117200, "summary": "Mostly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0, "precipProbability": 0, "temperature": 55.08, "apparentTemperature": 55.08, "dewPoint": 53.26, "humidity": 0.94, "windSpeed": 6.54, "windBearing": 253, "visibility": 5.58, "cloudCover": 0.78, "pressure": 1012.66, "ozone": 324.39 }, { "time": 1465120800, "summary": "Mostly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0.0009, "precipProbability": 0.01, "precipType": "rain", "temperature": 54.3, "apparentTemperature": 54.3, "dewPoint": 52.66, "humidity": 0.94, "windSpeed": 6.3, "windBearing": 254, "visibility": 5.58, "cloudCover": 0.8, "pressure": 1012.48, "ozone": 321.82 }, { "time": 1465124400, "summary": "Mostly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0.0016, "precipProbability": 0.04, "precipType": "rain", "temperature": 53.06, "apparentTemperature": 53.06, "dewPoint": 51.53, "humidity": 0.95, "windSpeed": 6.03, "windBearing": 253, "visibility": 5.74, "cloudCover": 0.8, "pressure": 1012.27, "ozone": 319.02 }, { "time": 1465128000, "summary": "Mostly Cloudy", "icon": "partly-cloudy-night", "precipIntensity": 0.002, "precipProbability": 0.05, "precipType": "rain", "temperature": 52.51, "apparentTemperature": 52.51, "dewPoint": 50.91, "humidity": 0.94, "windSpeed": 5.81, "windBearing": 252, "visibility": 6.06, "cloudCover": 0.8, "pressure": 1012.15, "ozone": 316.87 }, { "time": 1465131600, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0.0018, "precipProbability": 0.04, "precipType": "rain", "temperature": 53.38, "apparentTemperature": 53.38, "dewPoint": 51.48, "humidity": 0.93, "windSpeed": 5.68, "windBearing": 251, "visibility": 6.61, "cloudCover": 0.81, "pressure": 1012.18, "ozone": 315.72 }, { "time": 1465135200, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0.0013, "precipProbability": 0.02, "precipType": "rain", "temperature": 54.34, "apparentTemperature": 54.34, "dewPoint": 51.92, "humidity": 0.92, "windSpeed": 5.61, "windBearing": 250, "visibility": 7.33, "cloudCover": 0.82, "pressure": 1012.29, "ozone": 315.22 }, { "time": 1465138800, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0.0008, "precipProbability": 0.01, "precipType": "rain", "temperature": 55.35, "apparentTemperature": 55.35, "dewPoint": 52.17, "humidity": 0.89, "windSpeed": 5.64, "windBearing": 251, "visibility": 8.05, "cloudCover": 0.81, "pressure": 1012.4, "ozone": 315.11 }, { "time": 1465142400, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 56.51, "apparentTemperature": 56.51, "dewPoint": 52.2, "humidity": 0.85, "windSpeed": 5.75, "windBearing": 251, "visibility": 8.77, "cloudCover": 0.79, "pressure": 1012.46, "ozone": 315.69 }, { "time": 1465146000, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 57.81, "apparentTemperature": 57.81, "dewPoint": 52.09, "humidity": 0.81, "windSpeed": 5.94, "windBearing": 253, "visibility": 9.5, "cloudCover": 0.75, "pressure": 1012.49, "ozone": 316.67 }, { "time": 1465149600, "summary": "Mostly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 59.37, "apparentTemperature": 59.37, "dewPoint": 52.22, "humidity": 0.77, "windSpeed": 6.26, "windBearing": 257, "visibility": 10, "cloudCover": 0.68, "pressure": 1012.42, "ozone": 316.84 }, { "time": 1465153200, "summary": "Partly Cloudy", "icon": "partly-cloudy-day", "precipIntensity": 0, "precipProbability": 0, "temperature": 61.7, "apparentTemperature": 61.7, "dewPoint": 53.05, "humidity": 0.73, "windSpeed": 6.9, "windBearing": 258, "visibility": 10, "cloudCover": 0.53, "pressure": 1012.22, "ozone": 315.6 }] }, "daily": { "summary": "No precipitation throughout the week, with temperatures falling to 64Â°F on Wednesday.", "icon": "clear-day", "data": [{ "time": 1464937200, "summary": "Partly cloudy throughout the day.", "icon": "partly-cloudy-day", "sunriseTime": 1464958194, "sunsetTime": 1465010936, "moonPhase": 0.95, "precipIntensity": 0, "precipIntensityMax": 0, "precipProbability": 0, "temperatureMin": 55.84, "temperatureMinTime": 1464948000, "temperatureMax": 77.93, "temperatureMaxTime": 1464994800, "apparentTemperatureMin": 55.84, "apparentTemperatureMinTime": 1464948000, "apparentTemperatureMax": 77.93, "apparentTemperatureMaxTime": 1464994800, "dewPoint": 52.97, "humidity": 0.68, "windSpeed": 5.56, "windBearing": 277, "visibility": 8.78, "cloudCover": 0.24, "pressure": 1014.51, "ozone": 319.92 }, { "time": 1465023600, "summary": "Mostly cloudy throughout the day.", "icon": "partly-cloudy-day", "sunriseTime": 1465044577, "sunsetTime": 1465097372, "moonPhase": 0.98, "precipIntensity": 0, "precipIntensityMax": 0, "precipProbability": 0, "temperatureMin": 54.05, "temperatureMinTime": 1465106400, "temperatureMax": 73.46, "temperatureMaxTime": 1465070400, "apparentTemperatureMin": 54.05, "apparentTemperatureMinTime": 1465106400, "apparentTemperatureMax": 73.46, "apparentTemperatureMaxTime": 1465070400, "dewPoint": 55.6, "humidity": 0.77, "windSpeed": 6.26, "windBearing": 258, "visibility": 7.41, "cloudCover": 0.63, "pressure": 1012.53, "ozone": 323.08 }, { "time": 1465110000, "summary": "Mostly cloudy until afternoon.", "icon": "partly-cloudy-day", "sunriseTime": 1465130962, "sunsetTime": 1465183808, "moonPhase": 0.03, "precipIntensity": 0.0005, "precipIntensityMax": 0.002, "precipIntensityMaxTime": 1465128000, "precipProbability": 0.05, "precipType": "rain", "temperatureMin": 52.51, "temperatureMinTime": 1465128000, "temperatureMax": 71.41, "temperatureMaxTime": 1465167600, "apparentTemperatureMin": 52.51, "apparentTemperatureMinTime": 1465128000, "apparentTemperatureMax": 71.41, "apparentTemperatureMaxTime": 1465167600, "dewPoint": 53.73, "humidity": 0.81, "windSpeed": 7.33, "windBearing": 253, "visibility": 8.55, "cloudCover": 0.51, "pressure": 1011.47, "ozone": 312.87 }, { "time": 1465196400, "summary": "Mostly cloudy until afternoon.", "icon": "partly-cloudy-day", "sunriseTime": 1465217348, "sunsetTime": 1465270242, "moonPhase": 0.07, "precipIntensity": 0.0002, "precipIntensityMax": 0.0015, "precipIntensityMaxTime": 1465214400, "precipProbability": 0.03, "precipType": "rain", "temperatureMin": 52.99, "temperatureMinTime": 1465214400, "temperatureMax": 72.44, "temperatureMaxTime": 1465250400, "apparentTemperatureMin": 52.99, "apparentTemperatureMinTime": 1465214400, "apparentTemperatureMax": 72.44, "apparentTemperatureMaxTime": 1465250400, "dewPoint": 55.12, "humidity": 0.81, "windSpeed": 7.99, "windBearing": 236, "visibility": 10, "cloudCover": 0.49, "pressure": 1008.14, "ozone": 303.86 }, { "time": 1465282800, "summary": "Mostly cloudy throughout the day.", "icon": "partly-cloudy-day", "sunriseTime": 1465303737, "sunsetTime": 1465356676, "moonPhase": 0.1, "precipIntensity": 0.0003, "precipIntensityMax": 0.0011, "precipIntensityMaxTime": 1465311600, "precipProbability": 0.02, "precipType": "rain", "temperatureMin": 53.44, "temperatureMinTime": 1465365600, "temperatureMax": 64.58, "temperatureMaxTime": 1465336800, "apparentTemperatureMin": 53.44, "apparentTemperatureMinTime": 1465365600, "apparentTemperatureMax": 64.58, "apparentTemperatureMaxTime": 1465336800, "dewPoint": 51.43, "humidity": 0.79, "windSpeed": 7.24, "windBearing": 232, "cloudCover": 0.58, "pressure": 1009.89, "ozone": 307.93 }, { "time": 1465369200, "summary": "Mostly cloudy until afternoon.", "icon": "partly-cloudy-day", "sunriseTime": 1465390127, "sunsetTime": 1465443107, "moonPhase": 0.13, "precipIntensity": 0, "precipIntensityMax": 0, "precipProbability": 0, "temperatureMin": 52.53, "temperatureMinTime": 1465452000, "temperatureMax": 63.69, "temperatureMaxTime": 1465419600, "apparentTemperatureMin": 52.53, "apparentTemperatureMinTime": 1465452000, "apparentTemperatureMax": 63.69, "apparentTemperatureMaxTime": 1465419600, "dewPoint": 48.56, "humidity": 0.75, "windSpeed": 8.06, "windBearing": 248, "cloudCover": 0.5, "pressure": 1012.18, "ozone": 335.4 }, { "time": 1465455600, "summary": "Mostly cloudy until afternoon.", "icon": "partly-cloudy-day", "sunriseTime": 1465476519, "sunsetTime": 1465529538, "moonPhase": 0.17, "precipIntensity": 0.0003, "precipIntensityMax": 0.0012, "precipIntensityMaxTime": 1465491600, "precipProbability": 0.02, "precipType": "rain", "temperatureMin": 52.83, "temperatureMinTime": 1465480800, "temperatureMax": 67.03, "temperatureMaxTime": 1465516800, "apparentTemperatureMin": 52.83, "apparentTemperatureMinTime": 1465480800, "apparentTemperatureMax": 67.03, "apparentTemperatureMaxTime": 1465516800, "dewPoint": 47.2, "humidity": 0.71, "windSpeed": 7.83, "windBearing": 257, "cloudCover": 0.37, "pressure": 1012.89, "ozone": 354.11 }, { "time": 1465542000, "summary": "Partly cloudy until afternoon.", "icon": "partly-cloudy-day", "sunriseTime": 1465562913, "sunsetTime": 1465615967, "moonPhase": 0.2, "precipIntensity": 0, "precipIntensityMax": 0, "precipProbability": 0, "temperatureMin": 51.29, "temperatureMinTime": 1465560000, "temperatureMax": 65.4, "temperatureMaxTime": 1465599600, "apparentTemperatureMin": 51.29, "apparentTemperatureMinTime": 1465560000, "apparentTemperatureMax": 65.4, "apparentTemperatureMaxTime": 1465599600, "dewPoint": 44.54, "humidity": 0.64, "windSpeed": 7.15, "windBearing": 265, "cloudCover": 0.05, "pressure": 1013.47, "ozone": 338.18 }] }, "flags": { "sources": ["darksky", "lamp", "gfs", "cmc", "nam", "rap", "rtma", "sref", "fnmoc", "isd", "nwspa", "madis", "nearest-precip"], "darksky-stations": ["KMUX"], "lamp-stations": ["KAPC", "KCCR", "KHWD", "KLVK", "KNUQ", "KOAK", "KPAO", "KSFO", "KSQL"], "isd-stations": ["724943-99999", "745039-99999", "745065-99999", "994016-99999", "998479-99999"], "madis-stations": ["AU915", "C5988", "C6328", "C8158", "C9629", "CQ188", "D5422", "E0426", "E6067", "E9227", "FTPC1", "GGBC1", "OKXC1", "PPXC1", "PXOC1", "SFOC1"], "units": "us" } }